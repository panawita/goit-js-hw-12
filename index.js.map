{"version":3,"file":"index.js","sources":["../src/js/search_app.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const userInput = document.querySelector('.search-input').value.trim();\n  if (!userInput) {\n    iziToast.show({\n      message: 'Please enter what you are searching for!',\n      backgroundColor: '#EF4040',\n      titleColor: '#fff',\n      messageColor: '#fff',\n      progressBarColor: '#B51B1B',\n      position: 'topRight',\n      onOpening: function () {\n        document.querySelector('.iziToast').style.fontFamily =\n          'Montserrat, sans-serif';\n      },\n    });\n  } else {\n    fetchImages(userInput);\n  }\n});\n\nfunction fetchImages(userInput) {\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  const params = new URLSearchParams({\n    key: '28729256-3b1de8368afcf00c1bd7e0c48',\n    q: userInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => response.json())\n    .then(data => {\n      loader.style.display = 'none';\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search phrase. Please try again',\n          backgroundColor: '#EF4040',\n          titleColor: '#fff',\n          messageColor: '#fff',\n          progressBarColor: '#B51B1B',\n          position: 'topRight',\n          onOpening: function () {\n            document.querySelector('.iziToast').style.fontFamily =\n              'Montserrat, sans-serif';\n          },\n        });\n      } else {\n        displayImages(data.hits);\n      }\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error.',\n        message: 'Sorry, something went wrong. Please try again.',\n        backgroundColor: '#EF4040',\n        titleColor: '#fff',\n        messageColor: '#fff',\n        progressBarColor: '#B51B1B',\n        position: 'topRight',\n        onOpening: function () {\n          document.querySelector('.iziToast').style.fontFamily =\n            'Montserrat, sans-serif';\n        },\n      });\n      console.error(error);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n\nfunction displayImages(images) {\n  const imageCards = images.map(image => createImageCard(image)).join('');\n  gallery.innerHTML = imageCards;\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nfunction createImageCard(image) {\n  return `\n      <div class=\"gallery-item\">\n        <div class=\"gallery-image\"><a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a></div>\n        <div class=\"image-info\">\n          <span><p>Likes:</p> ${image.likes}</span>\n          <span><p>Views:</p> ${image.views}</span>\n          <span><p>Comments:</p> ${image.comments}</span>\n          <span><p>Downloads:</p> ${image.downloads}</span>\n        </div>\n      </div>\n    `;\n}\n"],"names":["form","loader","gallery","event","userInput","fetchImages","iziToast","params","response","data","displayImages","error","images","imageCards","image","createImageCard","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAY,SAAS,cAAc,eAAe,EAAE,MAAM,OAC3DA,EAcHC,EAAYD,CAAS,EAbrBE,EAAS,KAAK,CACZ,QAAS,2CACT,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,iBAAkB,UAClB,SAAU,WACV,UAAW,UAAY,CACrB,SAAS,cAAc,WAAW,EAAE,MAAM,WACxC,wBACH,CACP,CAAK,CAIL,CAAC,EAED,SAASD,EAAYD,EAAW,CAC9BF,EAAQ,UAAY,GACpBD,EAAO,MAAM,QAAU,QAEvB,MAAMM,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,MAAM,4BAA4BG,CAAM,EAAE,EACvC,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZR,EAAO,MAAM,QAAU,OACnBQ,EAAK,KAAK,SAAW,EACvBH,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,iBAAkB,UAClB,SAAU,WACV,UAAW,UAAY,CACrB,SAAS,cAAc,WAAW,EAAE,MAAM,WACxC,wBACH,CACX,CAAS,EAEDI,EAAcD,EAAK,IAAI,CAE/B,CAAK,EACA,MAAME,GAAS,CACdL,EAAS,KAAK,CACZ,MAAO,SACP,QAAS,iDACT,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,iBAAkB,UAClB,SAAU,WACV,UAAW,UAAY,CACrB,SAAS,cAAc,WAAW,EAAE,MAAM,WACxC,wBACH,CACT,CAAO,EACD,QAAQ,MAAMK,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbV,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAEA,SAASS,EAAcE,EAAQ,CAC7B,MAAMC,EAAaD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACtEZ,EAAQ,UAAYW,EAEH,IAAIG,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEA,SAASD,EAAgBD,EAAO,CAC9B,MAAO;AAAA;AAAA,8CAEqCA,EAAM,aAAa;AAAA,sBAC3CA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gCAG5BA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAInD"}